<!DOCTYPE html>
<html lang="sl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ch Projekt</title>
    <link rel="stylesheet" href="static/css/main.css">
    <link rel="stylesheet" href="static/css/components.css">
    <link rel="stylesheet" href="static/css/pricing.css">
    <link rel="stylesheet" href="static/css/pricing-enhanced.css">
    <link rel="stylesheet" href="static/css/planning.css">
    <link rel="stylesheet" href="static/css/production-planning.css">
</head>
<body>
    <!-- Version Display (Constitutional Requirement) -->
    <div class="version-display">Loading...</div>
    
    <!-- AI PLANNING MODEL BUTTON -->
    <div style="position: fixed; top: 10px; right: 10px; z-index: 9999;">
        <button onclick="window.open('static/ai-planning-model.html', '_blank')" style="
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px 30px;
            border: none;
            border-radius: 50px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 10px;
        " onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'">
            ü§ñ AI Planning Model
            <span style="font-size: 12px; background: rgba(255,255,255,0.2); padding: 2px 8px; border-radius: 10px;">NEW</span>
        </button>
    </div>

    <!-- DEPLOYMENT VERIFICATION BANNER -->
    <div style="background: #FFD700; color: black; padding: 20px; text-align: center; font-size: 24px; font-weight: bold; border: 3px solid #FF6B6B; margin: 10px;">
        üöÄ v0.3.4 DEPLOYED - FIXED MOCKAPI ERROR üöÄ
        <br>
        <span style="font-size: 14px;">This yellow banner confirms deployment!</span>
    </div>
    
    <!-- Main Application -->
    <div id="app">
        <header>
            <h1>Ch Projekt</h1>
            <nav id="main-nav">
                <a href="#dashboard" class="nav-link active">Nadzorna plo≈°ƒça</a>
                <a href="#pricing" class="nav-link">Cene</a>
                <a href="#planning" class="nav-link">Naƒçrtovanje</a>
                <a href="#production-planning" class="nav-link">BOM in proizvodnja</a>
                <a href="#ai-planning" class="nav-link">ü§ñ AI Planning Model</a>
                <a href="#stock-report" class="nav-link">Zaloge</a>
                <a href="#modules" class="nav-link">Moduli</a>
                <a href="#settings" class="nav-link">Nastavitve</a>
                <a href="#about" class="nav-link">O programu</a>
            </nav>
        </header>
        
        <main id="main-content">
            <!-- Dynamic content loads here -->
            <div class="loading">
                <h2>Nalaganje Ch Projekta...</h2>
                <p>Inicializacija aplikacije</p>
            </div>
        </main>
        
        <footer>
            <div class="status-indicator">
                <span class="mode">Razvojni naƒçin (File://)</span>
                <span class="separator">|</span>
                <span class="status">Pripravljen</span>
            </div>
        </footer>
    </div>
    
    <!-- Core Scripts -->
    <script src="static/js/config.js"></script>
    <script src="static/js/version.js"></script>
    
    <!-- Module bundles for file:// protocol -->
    <script>
        if (window.location.protocol === 'file:') {
            document.write('<script src="modules/pricing/pricing-bundle.js"><\/script>');
            document.write('<script src="modules/production-planning/production-planning-bundle.js"><\/script>');
        }
    </script>
    
    <!-- Module JavaScript -->
    <script src="static/js/modules/pricing.js"></script>
    <script src="static/js/modules/pricing-enhanced.js"></script>
    <script src="static/js/modules/production-planning.js"></script>
    
    <!-- Main application -->
    <script src="static/js/app.js"></script>
    <script>
        // Initialize app based on protocol
        window.addEventListener('DOMContentLoaded', () => {
            const isProduction = window.location.protocol !== 'file:';
            ChApp.init({
                mode: isProduction ? 'production' : 'development',
                mockApi: !isProduction
            });
        });
    </script>
</body>
</html>